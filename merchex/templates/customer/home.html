{% extends 'main.html'%}

{% block content %}

<div class="row">
    <div class="col-md-5">
        <h5>CLIENTS</h5>
        <hr>
        <div class="card card-body">
            <a class="btn btn-primary  btn-sm btn-block" href="{% url 'add_customer' %}">Créer Un Client</a>
            <table class="table table-sm">
                <tr>
                    <th>ID</th>
                    <th>Nom du Clients</th>
                    <th>Contact</th>
                    <th>Addresse</th>
                    <th>Détails</th>
                    <th>Mise à jour</th>
                    <th>Suppression</th>
                </tr>
                {% for customer in customers %}
                <tr>
                    <th>{{ customer.id }}</th>
                    <th>{{ customer.firstname }}</th>
                    <th>{{ customer.phone }}</th>
                    <th>{{ customer.address }}</th>
                    <th><a class="btn btn-sm btn-info" href="{% url 'custom' customer.id %}">Détails</a></th>
                    <th><a class="btn btn-sm btn-success" href="{% url 'update_customer' customer.id %}">Modifier</a></th>
                    <th><a class="btn btn-sm btn-danger" href="{% url 'delete_customer' customer.id %}">Supprimer</a></th>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
    
    <div class="col-md-7">
        <h5>LOCATION</h5>
        <hr>
        <div class="card card-body">
            <a class="btn btn-primary  btn-sm btn-block" href="{% url 'add_rental' %}">Ajouter une Location</a>
            <table class="table table-sm">
                <tr>
                    <th>ID</th>
                    <th>Voiture</th>
                    <th>Client</th>
                    <th>Date de sortie</th>
                    <th>Date prévue de retour</th>
                    <th>Date effective de retour</th>
                    <th>Statut</th>
                    <th>Mise à jour</th>
                    <th>Suppression</th>
                </tr>
                {% for rental in rentals %}
                <tr>
                    <th>{{ rental.id }}</th>
                    <th>{{ rental.car }}</th>
                    <th>{{ rental.customer }}</th>
                    <th>{{ rental.start_date }}</th>
                    <th>{{ rental.expected_date }}</th>
                    <th>{{ rental.return_date }}</th>
                    <th >{{ rental.status }}</th>
                    <th><a class="btn btn-sm btn-success" href="{% url 'update_rental' rental.id %}">Modifier</a></th>
                    <th><a class="btn btn-sm btn-danger" href="{% url 'delete_rental' rental.id %}">Supprimer</a></th>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
</div>

{% endblock %}
